(window["webpackJsonpstar-trader"]=window["webpackJsonpstar-trader"]||[]).push([[0],{13:function(e,n,t){e.exports=t(25)},18:function(e,n,t){},19:function(e,n,t){},25:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(5),c=t.n(o),i=(t(18),t(19),t(2)),u=t(6),l=t(7),s=t(4),p=function(e,n){console.log({planet:e},{item:n});var t=e.prices.find(function(e){return e[0]===n}),r=Object(s.a)(t,3);r[0];return 10*r[1]+r[2]};function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(t,!0).forEach(function(n){Object(l.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var y=function(e){return e.map(function(e){return[e[0],e[1],d(e[2])]})},d=function(e){return Math.max(-10,Math.min(10,e+(2-O(5))))},O=function(e){return Math.random()*e>>0};function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(t,!0).forEach(function(n){Object(l.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var v=function(e,n){switch(n.type){case"INTEREST":return b({},e,{money:e.money*n.rate||1.01});case"RANDOMISE_PRICES":return b({},e,{inventory:b({},e.inventory,{fuel:e.inventory.fuel-10}),prices:n.prices});case"TRADE":var t=n.payload,r=t.amount,a=t.item,o=e.place,c=e.planets,i=e.money,u=e.inventory,l=c.find(function(e){return e.name===o}),s=p(l,a);if(r>0){if(s*r>i)return console.log("Not enough money"),e}else if(-r>u.find(function(e){return e[0]===a})[1])return console.log("Don't have enough items."),e;return b({},e,{money:i-s*r,inventory:u.map(function(e){return e[0]==a?[e[0],e[1]+r]:e})});case"TRAVEL":var f=n.payload,d=f.destination,O=f.distance,E=function(e,n){return e.find(function(e){return e[0]===n})[1]}(e.inventory,"fuel");return E<O?e:b({},e,{inventory:e.inventory.map(function(e){return"fuel"==e[0]?["fuel",E-O]:e}),place:d});case"TURN":return function(e,n){return m({},n,{turn:n.turn+e,planets:n.planets.map(function(e){return m({},e,{prices:y(e.prices)})})})}(n.payload,e);default:return e}},h=function(e){var n=e.children,t=e.dispatch,r=e.action,o=e.payload;return a.a.createElement("button",{onClick:function(){t({type:r,payload:o}),o.turns&&t({type:"TURN",payload:o.turns})}},n)},w=function(e){var n=Object(i.b)(),t=Object(i.c)(function(e){return e}),r=t.turn,o=t.place,c=Object(i.c)(function(e){return e.money}),u=Object(i.c)(function(e){return e.inventory}),l=Object(i.c)(function(e){return e.planets}).find(function(e){return e.name===o});return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Star Trader"),a.a.createElement("h2",null,"Turn ",r,", You are on planet ",l.name),a.a.createElement("p",null,"Money: ",c),a.a.createElement("h3",null,"You have in your inventory:"),a.a.createElement("ul",null,u.map(function(e){var n=Object(s.a)(e,2),t=n[0],r=n[1];return a.a.createElement("li",{key:t},t," - ",r)})),a.a.createElement("h3",null,"You can travel to:"),a.a.createElement("ul",null,l.routes.map(function(e){var t=Object(s.a)(e,2),r=t[0],o=t[1];return a.a.createElement("li",{key:r},r," - ",o," ",a.a.createElement(h,{dispatch:n,action:"TRAVEL",payload:{destination:r,distance:o,turns:o}},"Travel"))})),a.a.createElement("h3",null,"You can trade here:"),a.a.createElement("ul",null,u.map(function(e){var t=Object(s.a)(e,2),r=t[0],o=t[1];return a.a.createElement("li",{key:r},r," - you have: ",o,"  price: ",p(l,r),a.a.createElement(h,{dispatch:n,action:"TRADE",payload:{item:r,amount:2}},"Buy"),a.a.createElement(h,{dispatch:n,action:"TRADE",payload:{item:r,amount:-2}},"Sell")," ")})),a.a.createElement("div",{className:"list"}))},j=function(){return Object(u.b)(v,{money:500,turn:1,place:"Ereb",planets:[{name:"Ereb",prices:[["fuel",5,0],["food",3,-2],["electronics",7,0],["minerals",6,0]],routes:[["Dokav",10],["Inwe",20]]},{name:"Dokav",prices:[["fuel",5,0],["food",7,0],["electronics",4,0],["minerals",6,0]],routes:[["Ereb",10]]},{name:"Inwe",prices:[["fuel",5,0],["food",6,0],["electronics",5,0],["minerals",3,0]],routes:[["Ereb",20]]}],inventory:[["fuel",100],["food",0],["electronics",0],["minerals",20]]},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}();var g=function(){return a.a.createElement(i.a,{store:j},a.a.createElement("div",{className:"App"},a.a.createElement(w,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,1,2]]]);
//# sourceMappingURL=main.f22d2ac4.chunk.js.map