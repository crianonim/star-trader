(window["webpackJsonpstar-trader"]=window["webpackJsonpstar-trader"]||[]).push([[0],{44:function(e,t,n){e.exports=n(57)},49:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"TRAVEL",function(){return _});var a=n(0),o=n.n(a),c=n(13),l=n.n(c),i=(n(49),n(11)),u=n(23),s=n(6),m=function(e,t){return e.find(function(e){return e[0]===t})[1]},f=n(16),p=function(e,t){var n=e.prices.find(function(e){return e[0]===t}),r=Object(f.a)(n,3);r[0];return 10*r[1]+r[2]};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach(function(t){Object(s.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E=function(e,t){console.log("FROM PRE");var n=t.type,r=t.payload;switch(n){case"TRAVEL":console.log("PRE",{payload:r});var a=r.destination,o=e.planets.find(function(t){return t.name===e.place}).routes.find(function(e){return e[0]===a})[1],c=m(e.inventory,"fuel");return d({},e,o>c?{actionData:{fuel:c,distance:o,valid:!1}}:{actionData:{fuel:c,distance:o,valid:!0}});case"TRADE":var l=t.payload,i=l.amount,u=l.item,s=e.place,f=e.planets,g=e.money,E=e.inventory,y=f.find(function(e){return e.name===s}),v=p(y,u);if(i>0){if(v*i>g)return console.log("Not enough money"),d({},e,{actionData:{valid:!1}})}else if(-i>E.find(function(e){return e[0]===u})[1])return console.log("Don't have enough items."),d({},e,{actionData:{valid:!1}});return d({},e,{actionData:{valid:!0,turns:1}});default:return e}};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach(function(t){Object(s.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var O=function(e,t){console.log("FROM TURN");var n=t.type,r=t.payload;switch(n){case"TRAVEL":console.log("TURN",{payload:r});var a=e.actionData,o=a.valid,c=a.distance;return o?b(c,e):e;case"TRADE":return e.actionData.valid?b(e.actionData.turns||1,e):e;default:return e}},b=function(e,t){for(var n=t.turn,r=t.planets,a=0;a<e;a++)console.log("End of turn ",n),n++,r=r.map(function(e){return v({},e,{prices:h(e.prices)})});return v({},t,{turn:n,planets:r})},h=function(e){return e.map(function(e){return[e[0],e[1],w(e[2])]})},w=function(e){return Math.max(-10,Math.min(10,e+(2-(t=5,Math.random()*t>>0))));var t};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach(function(t){Object(s.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var R=function(e,t){switch(t.type){case"INTEREST":return D({},e,{money:e.money*t.rate||1.01});case"RANDOMISE_PRICES":return D({},e,{inventory:D({},e.inventory,{fuel:e.inventory.fuel-10}),prices:t.prices});case"TRADE":var n=t.payload,r=n.amount,a=n.item,o=e.place,c=e.planets,l=e.money,i=e.inventory,u=c.find(function(e){return e.name===o}),s=p(u,a);if(r>0){if(s*r>l)return console.log("Not enough money"),e}else if(-r>i.find(function(e){return e[0]===a})[1])return console.log("Don't have enough items."),e;return D({},e,{money:l-s*r,inventory:i.map(function(e){return e[0]===a?[e[0],e[1]+r]:e})});case"TRAVEL":var m=t.payload.destination,f=e.actionData,g=f.fuel,d=f.distance,E=f.valid;return console.log("ACTION",E,g,d),E?D({},e,{inventory:e.inventory.map(function(e){return"fuel"===e[0]?["fuel",g-d]:e}),place:m}):e;default:return e}},P=null,T=function(){return P||(P=Object(u.b)(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return t.reduce(function(e,t){return t(e,n)},e)}}(E,O,R),{money:500,turn:1,place:"Ereb",planets:[{name:"Ereb",prices:[["fuel",5,0],["food",3,-2],["electronics",7,0],["minerals",6,0]],routes:[["Dokav",10],["Inwe",20]]},{name:"Dokav",prices:[["fuel",5,0],["food",7,0],["electronics",4,0],["minerals",6,0]],routes:[["Ereb",10]]},{name:"Inwe",prices:[["fuel",5,0],["food",6,0],["electronics",5,0],["minerals",3,0]],routes:[["Ereb",20]]}],inventory:[["fuel",30],["food",0],["electronics",0],["minerals",20]]},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),P},x=n(75),N=n(76),A=n(77),S=n(78),I=n(79),M=n(80),L=n(84),k=n(74),_=function(e){var t=e.state,n=e.destination;return!(t.planets.find(function(e){return e.name===t.place}).routes.find(function(e){return e[0]===n})[1]>m(t.inventory,"fuel"))},C=function(e){var t=e.children,n=e.action,a=e.payload,c=e.variant,l=e.color,u=Object(i.b)(),s=!r[n]||r[n](a);return o.a.createElement(k.a,{variant:c,color:l,disabled:!s,onClick:function(){u({type:n,payload:a})}},t)},B=Object(L.a)(function(e){return{root:{flexGrow:1,marginTop:100},flex:{flex:1},menuButton:{marginLeft:-12,marginRight:10},align:{display:"flex",alignItems:"center"},horMar:{marginLeft:10,marginRight:10,display:"flex",alignItems:"center"},topMargin:{marginTop:80},textAlignCenter:{textAlign:"center"},verSpace:{marginTop:"1rem"},selectedRow:{backgroundColor:"#3f51b5",color:"white"}}})(function(e){var t=e.classes,n=Object(a.useState)(null),r=Object(f.a)(n,2),c=r[0],l=r[1],u=Object(i.c)(function(e){return e}),s=u.inventory,m=u.place,g=u.planets.find(function(e){return e.name===m});return o.a.createElement("div",{className:t.root},o.a.createElement(x.a,{align:"center",variant:"h6"},"Cargo"),o.a.createElement(N.a,null,o.a.createElement(A.a,null,o.a.createElement(S.a,null,o.a.createElement(I.a,null,"Item"),o.a.createElement(I.a,{align:"right"},"Amount"),o.a.createElement(I.a,{align:"right"},"Local Price"))),o.a.createElement(M.a,null,s.map(function(e,n){var r=Object(f.a)(e,2),a=r[0],i=r[1];return o.a.createElement(S.a,{className:c===a?t.selectedRow:"",onClick:function(){return l(a)},key:a},o.a.createElement(I.a,{className:c===a?t.selectedRow:"",color:"inherit"},a),o.a.createElement(I.a,{align:"right",className:c===a?t.selectedRow:""},i),o.a.createElement(I.a,{align:"right",className:c===a?t.selectedRow:""},p(g,a)))}))),o.a.createElement("div",{className:t.verSpace},null!=c&&o.a.createElement("div",{className:t.align},o.a.createElement(C,{color:"primary",variant:"contained",action:"TRADE",payload:{item:c,amount:1}},"Buy"),o.a.createElement("div",{className:t.flex+" "+t.textAlignCenter},"Amount: 1"),o.a.createElement(C,{color:"secondary",variant:"contained",action:"TRADE",payload:{item:c,amount:-1}},"Sell"))))}),V=Object(L.a)(function(e){return{root:{flexGrow:1,marginTop:100},flex:{flex:1},menuButton:{marginLeft:-12,marginRight:10},align:{display:"flex",alignItems:"center"},horMar:{marginLeft:10,marginRight:10,display:"flex",alignItems:"center"},topMargin:{marginTop:80},textAlignCenter:{textAlign:"center"},selectedRow:{backgroundColor:"#5e6ec9",color:"white"},vertMargin:{marginTop:20,marginBottom:10}}})(function(e){var t=e.classes,n=Object(i.c)(function(e){return e}),r=n.planets,a=n.place,c=r.find(function(e){return e.name===a});return o.a.createElement("div",{className:t.vertMargin},o.a.createElement(x.a,{align:"center",variant:"h6"},"Travel"),o.a.createElement(N.a,null,o.a.createElement(A.a,null,o.a.createElement(S.a,null,o.a.createElement(I.a,null,"Destination"),o.a.createElement(I.a,{align:"center"},"Distance"),o.a.createElement(I.a,{align:"right"},"Action"))),o.a.createElement(M.a,null,c.routes.map(function(e){var t=Object(f.a)(e,2),r=t[0],a=t[1];return o.a.createElement(S.a,null,o.a.createElement(I.a,null,r),o.a.createElement(I.a,{align:"center"},a),o.a.createElement(I.a,{align:"right"}," ",o.a.createElement(C,{variant:"contained",action:"TRAVEL",payload:{state:n,destination:r}},"Travel")))}))))}),U=n(81),X=function(e){return o.a.createElement("div",null,o.a.createElement(U.a,{maxWidth:"sm"},o.a.createElement(B,null)),o.a.createElement(U.a,{maxWidth:"sm"},o.a.createElement(V,null)))},G=n(85),J=n(82),F=n(83),W=n(29),q=n.n(W),z=n(32),H=n.n(z),K=n(30),Q=n.n(K),Y=n(31),Z=n.n(Y),$=Object(L.a)(function(e){return{root:{flexGrow:1,marginTop:100},flex:{flex:1},menuButton:{marginLeft:-12,marginRight:10},align:{display:"flex",alignItems:"center",justifyContent:"center"},horMar:{marginLeft:10,marginRight:10,display:"flex",alignItems:"center"}}})(function(e){var t=e.classes,n=(e.title,Object(i.c)(function(e){return e})),r=n.money,a=n.place,c=n.turn;return o.a.createElement(G.a,{position:"fixed"},o.a.createElement(J.a,null,o.a.createElement(F.a,{color:"inherit",className:t.menuButton,onClick:function(){}},o.a.createElement(q.a,null)),o.a.createElement("div",{className:t.flex+" "+t.align},o.a.createElement("span",{className:t.horMar},o.a.createElement(Q.a,null)," ",c),o.a.createElement("span",{className:t.horMar},o.a.createElement(Z.a,null)," ",r," "),o.a.createElement("span",{className:t.horMar},o.a.createElement(H.a,null)," ",a))))}),ee=T();var te=function(){return o.a.createElement(i.a,{store:ee},o.a.createElement("div",{className:"App"},o.a.createElement($,{title:"Jasiu"}),o.a.createElement(X,null)))};l.a.render(o.a.createElement(te,null),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.b4d9285e.chunk.js.map