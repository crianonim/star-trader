(window["webpackJsonpstar-trader"]=window["webpackJsonpstar-trader"]||[]).push([[0],{48:function(e,n,t){e.exports=t(61)},53:function(e,n,t){},61:function(e,n,t){"use strict";t.r(n);var r={};t.r(r),t.d(r,"TRAVEL",function(){return N});var a=t(0),o=t.n(a),l=t(13),c=t.n(l),i=(t(53),t(8)),u=t(27),s=t(11),f=function(e,n){return e.find(function(e){return e[0]===n})[1]},m=t(16),p=function(e,n){var t=e.prices.find(function(e){return e[0]===n}),r=Object(m.a)(t,3);r[0];return 10*r[1]+r[2]};function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(t,!0).forEach(function(n){Object(s.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var E=function(e,n){console.log("FROM PRE");var t=n.type,r=n.payload;switch(t){case"TRAVEL":console.log("PRE",{payload:r});var a=r.destination,o=e.planets.find(function(n){return n.name===e.place}).routes.find(function(e){return e[0]===a})[1],l=f(e.inventory,"fuel");return g({},e,o>l?{actionData:{fuel:l,distance:o,valid:!1}}:{actionData:{fuel:l,distance:o,valid:!0}});case"TRADE":var c=n.payload,i=c.amount,u=c.item,s=e.place,m=e.planets,d=e.money,E=e.inventory,y=m.find(function(e){return e.name===s}),v=p(y,u);if(i>0){if(v*i>d)return console.log("Not enough money"),g({},e,{actionData:{valid:!1}})}else if(-i>E.find(function(e){return e[0]===u})[1])return console.log("Don't have enough items."),g({},e,{actionData:{valid:!1}});return g({},e,{actionData:{valid:!0,turns:1}});default:return e}};function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(t,!0).forEach(function(n){Object(s.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var O=function(e,n){console.log("FROM TURN");var t=n.type,r=n.payload;switch(t){case"TRAVEL":console.log("TURN",{payload:r});var a=e.actionData,o=a.valid,l=a.distance;return o?b(l,e):e;case"TRADE":return e.actionData.valid?b(e.actionData.turns||1,e):e;default:return e}},b=function(e,n){for(var t=n.turn,r=n.planets,a=0;a<e;a++)console.log("End of turn ",t),t++,r=r.map(function(e){return v({},e,{prices:j(e.prices)})});return v({},n,{turn:t,planets:r})},j=function(e){return e.map(function(e){return[e[0],e[1],h(e[2])]})},h=function(e){return Math.max(-10,Math.min(10,e+(2-(n=5,Math.random()*n>>0))));var n};function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function D(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(t,!0).forEach(function(n){Object(s.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var R=function(e,n){switch(n.type){case"INTEREST":return D({},e,{money:e.money*n.rate||1.01});case"RANDOMISE_PRICES":return D({},e,{inventory:D({},e.inventory,{fuel:e.inventory.fuel-10}),prices:n.prices});case"TRADE":var t=n.payload,r=t.amount,a=t.item,o=e.place,l=e.planets,c=e.money,i=e.inventory,u=l.find(function(e){return e.name===o}),s=p(u,a);if(r>0){if(s*r>c)return console.log("Not enough money"),e}else if(-r>i.find(function(e){return e[0]===a})[1])return console.log("Don't have enough items."),e;return D({},e,{money:c-s*r,inventory:i.map(function(e){return e[0]===a?[e[0],e[1]+r]:e})});case"TRAVEL":var f=n.payload.destination,m=e.actionData,d=m.fuel,g=m.distance,E=m.valid;return console.log("ACTION",E,d,g),E?D({},e,{inventory:e.inventory.map(function(e){return"fuel"===e[0]?["fuel",d-g]:e}),place:f}):e;default:return e}},P=null,T=function(){return P||(P=Object(u.b)(function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e,t){return n.reduce(function(e,n){return n(e,t)},e)}}(E,O,R),{money:500,turn:1,place:"Ereb",planets:[{name:"Ereb",prices:[["fuel",5,0],["food",3,-2],["electronics",7,0],["minerals",6,0]],routes:[["Dokav",10],["Inwe",20]]},{name:"Dokav",prices:[["fuel",5,0],["food",7,0],["electronics",4,0],["minerals",6,0]],routes:[["Ereb",10]]},{name:"Inwe",prices:[["fuel",5,0],["food",6,0],["electronics",5,0],["minerals",3,0]],routes:[["Ereb",20]]}],inventory:[["fuel",30],["food",0],["electronics",0],["minerals",20]]},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),P},x=t(73),N=function(e){var n=e.state,t=e.destination;return!(n.planets.find(function(e){return e.name===n.place}).routes.find(function(e){return e[0]===t})[1]>f(n.inventory,"fuel"))},A=function(e){var n=e.children,t=e.action,a=e.payload,l=e.variant,c=Object(i.b)(),u=!r[t]||r[t](a);return o.a.createElement(x.a,{variant:l,disabled:!u,onClick:function(){c({type:t,payload:a})}},n)},I=t(74),M=t(75),S=t(76),L=t(77),k=t(78),_=t(79),C=t(82),B=Object(C.a)(function(e){return{root:{flexGrow:1,marginTop:100},flex:{flex:1},menuButton:{marginLeft:-12,marginRight:10},align:{display:"flex",alignItems:"center"},horMar:{marginLeft:10,marginRight:10,display:"flex",alignItems:"center"},topMargin:{marginTop:80},textAlignCenter:{textAlign:"center"},selectedRow:{backgroundColor:"#5e6ec9",color:"white"}}})(function(e){var n=e.classes,t=Object(a.useState)(null),r=Object(m.a)(t,2),l=r[0],c=r[1],u=Object(i.c)(function(e){return e}),s=u.inventory,f=u.place,d=u.planets.find(function(e){return e.name===f});return o.a.createElement("div",{className:n.root},o.a.createElement(I.a,{align:"center",variant:"h6"},"Cargo"),o.a.createElement(M.a,null,o.a.createElement(S.a,null,o.a.createElement(L.a,null,o.a.createElement(k.a,null,"Item"),o.a.createElement(k.a,null,"Amount"),o.a.createElement(k.a,null,"Local Price"))),o.a.createElement(_.a,null,s.map(function(e,t){var r=Object(m.a)(e,2),a=r[0],i=r[1];return o.a.createElement(L.a,{className:l===a?n.selectedRow:"",onClick:function(){return c(a)},key:a},o.a.createElement(k.a,{color:"inherit"},a),o.a.createElement(k.a,null,i),o.a.createElement(k.a,null,p(d,a)))}))),null!=l&&o.a.createElement("div",{className:n.align},o.a.createElement(A,{action:"TRADE",payload:{item:l,amount:1}},"Buy"),o.a.createElement("div",{className:n.flex+" "+n.textAlignCenter},"1"),o.a.createElement(A,{action:"TRADE",payload:{item:l,amount:-1}},"Sell")))}),V=Object(C.a)(function(e){return{root:{flexGrow:1,marginTop:100},flex:{flex:1},menuButton:{marginLeft:-12,marginRight:10},align:{display:"flex",alignItems:"center"},horMar:{marginLeft:10,marginRight:10,display:"flex",alignItems:"center"},topMargin:{marginTop:80},textAlignCenter:{textAlign:"center"},selectedRow:{backgroundColor:"#5e6ec9",color:"white"},vertMargin:{marginTop:20,marginBottom:10}}})(function(e){var n=e.classes,t=Object(i.c)(function(e){return e}),r=t.planets,a=t.place,l=r.find(function(e){return e.name===a});return o.a.createElement("div",{className:n.vertMargin},o.a.createElement(I.a,{align:"center",variant:"h6"},"Travel"),o.a.createElement(M.a,null,o.a.createElement(S.a,null,o.a.createElement(L.a,null,o.a.createElement(k.a,null,"Destination"),o.a.createElement(k.a,null,"Distance"),o.a.createElement(k.a,null,"Tarvel"))),o.a.createElement(_.a,null,l.routes.map(function(e){var n=Object(m.a)(e,2),r=n[0],a=n[1];return o.a.createElement(L.a,null,o.a.createElement(k.a,null,r),o.a.createElement(k.a,null,a),o.a.createElement(k.a,null," ",o.a.createElement(A,{variant:"contained",action:"TRAVEL",payload:{state:t,destination:r}},"Travel")))}))))}),U=function(e){var n=Object(i.c)(function(e){return e}),t=(n.turn,n.place);Object(i.c)(function(e){return e.money}),Object(i.c)(function(e){return e.inventory}),Object(i.c)(function(e){return e.planets}).find(function(e){return e.name===t});return o.a.createElement(o.a.Fragment,null,o.a.createElement(B,null),o.a.createElement(V,null))},X=t(83),F=t(80),G=t(81),J=t(23),q=t.n(J),z=t(26),H=t.n(z),K=t(24),Q=t.n(K),W=t(25),Y=t.n(W),Z=Object(C.a)(function(e){return{root:{flexGrow:1,marginTop:100},flex:{flex:1},menuButton:{marginLeft:-12,marginRight:10},align:{display:"flex",alignItems:"center"},horMar:{marginLeft:10,marginRight:10,display:"flex",alignItems:"center"}}})(function(e){var n=e.classes,t=(e.title,Object(i.c)(function(e){return e})),r=t.money,a=t.place,l=t.turn;return o.a.createElement(X.a,{position:"fixed"},o.a.createElement(F.a,null,o.a.createElement(G.a,{color:"inherit",className:n.menuButton,onClick:function(){}},o.a.createElement(q.a,null)),o.a.createElement("div",{className:n.flex+" "+n.align},o.a.createElement("span",{className:n.horMar},o.a.createElement(Q.a,null)," ",l),o.a.createElement("span",{className:n.horMar},o.a.createElement(Y.a,null)," ",r," "),o.a.createElement("span",{className:n.horMar},o.a.createElement(H.a,null)," ",a))))}),$=T();var ee=function(){return o.a.createElement(i.a,{store:$},o.a.createElement("div",{className:"App"},o.a.createElement(Z,{title:"Jasiu"}),o.a.createElement(U,null)))};c.a.render(o.a.createElement(ee,null),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.1195f53b.chunk.js.map