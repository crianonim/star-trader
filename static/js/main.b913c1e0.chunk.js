(window["webpackJsonpstar-trader"]=window["webpackJsonpstar-trader"]||[]).push([[0],{13:function(e,n,t){e.exports=t(25)},18:function(e,n,t){},19:function(e,n,t){},25:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(5),c=t.n(o),i=(t(18),t(19),t(2)),u=t(6),l=t(7),s=t(4),f=function(e,n){var t=e.prices.find(function(e){return e[0]===n}),r=Object(s.a)(t,3);r[0];return 10*r[1]+r[2]},p=function(e,n){return e.find(function(e){return e[0]===n})[1]};function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(t,!0).forEach(function(n){Object(l.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var d=function(e){return e.map(function(e){return[e[0],e[1],O(e[2])]})},O=function(e){return Math.max(-10,Math.min(10,e+(2-E(5))))},b=function(e,n){var t=e.planets.find(function(n){return n.name===e.place}).routes.find(function(e){return e[0]===n})[1];return p(e.inventory,"fuel")>=t},E=function(e){return Math.random()*e>>0};function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(t,!0).forEach(function(n){Object(l.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var w=function(e,n){switch(n.type){case"INTEREST":return h({},e,{money:e.money*n.rate||1.01});case"RANDOMISE_PRICES":return h({},e,{inventory:h({},e.inventory,{fuel:e.inventory.fuel-10}),prices:n.prices});case"TRADE":var t=n.payload,r=t.amount,a=t.item,o=e.place,c=e.planets,i=e.money,u=e.inventory,l=c.find(function(e){return e.name===o}),s=f(l,a);if(r>0){if(s*r>i)return console.log("Not enough money"),e}else if(-r>u.find(function(e){return e[0]===a})[1])return console.log("Don't have enough items."),e;return h({},e,{money:i-s*r,inventory:u.map(function(e){return e[0]===a?[e[0],e[1]+r]:e})});case"TRAVEL":var m=n.payload,O=m.destination,b=m.distance,E=p(e.inventory,"fuel");return E<b?e:h({},e,{inventory:e.inventory.map(function(e){return"fuel"===e[0]?["fuel",E-b]:e}),place:O});case"TURN":return function(e,n){return y({},n,{turn:n.turn+e,planets:n.planets.map(function(e){return y({},e,{prices:d(e.prices)})})})}(n.payload,e);default:return e}},j=function(e){var n=e.children,t=e.dispatch,r=e.action,o=e.payload,c=e.disabled;return a.a.createElement("button",{disabled:c,onClick:function(){t({type:r,payload:o}),o.turns&&t({type:"TURN",payload:o.turns})}},n)},g=function(e){var n=Object(i.b)(),t=Object(i.c)(function(e){return e}),r=t.turn,o=t.place,c=Object(i.c)(function(e){return e.money}),u=Object(i.c)(function(e){return e.inventory}),l=Object(i.c)(function(e){return e.planets}).find(function(e){return e.name===o});return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Star Trader"),a.a.createElement("h2",null,"Turn ",r,", You are on planet ",l.name),a.a.createElement("p",null,"Money: ",c),a.a.createElement("h3",null,"You have in your inventory:"),a.a.createElement("ul",null,u.map(function(e){var n=Object(s.a)(e,2),t=n[0],r=n[1];return a.a.createElement("li",{key:t},t," - ",r)})),a.a.createElement("h3",null,"You can travel to:"),a.a.createElement("ul",null,l.routes.map(function(e){var r=Object(s.a)(e,2),o=r[0],c=r[1];return a.a.createElement("li",{key:o},o," - ",c," ",a.a.createElement(j,{dispatch:n,disabled:!b(t,o),action:"TRAVEL",payload:{destination:o,distance:c,turns:c}},"Travel"))})),a.a.createElement("h3",null,"You can trade here:"),a.a.createElement("ul",null,u.map(function(e){var t=Object(s.a)(e,2),r=t[0],o=t[1];return a.a.createElement("li",{key:r},r," - you have: ",o,"  price: ",f(l,r),a.a.createElement(j,{dispatch:n,action:"TRADE",payload:{item:r,amount:1}},"Buy"),a.a.createElement(j,{dispatch:n,action:"TRADE",payload:{item:r,amount:-1}},"Sell")," ")})),a.a.createElement("div",{className:"list"}))},D=function(){return Object(u.b)(w,{money:500,turn:1,place:"Ereb",planets:[{name:"Ereb",prices:[["fuel",5,0],["food",3,-2],["electronics",7,0],["minerals",6,0]],routes:[["Dokav",10],["Inwe",20]]},{name:"Dokav",prices:[["fuel",5,0],["food",7,0],["electronics",4,0],["minerals",6,0]],routes:[["Ereb",10]]},{name:"Inwe",prices:[["fuel",5,0],["food",6,0],["electronics",5,0],["minerals",3,0]],routes:[["Ereb",20]]}],inventory:[["fuel",30],["food",0],["electronics",0],["minerals",20]]},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}();var P=function(){return a.a.createElement(i.a,{store:D},a.a.createElement("div",{className:"App"},a.a.createElement(g,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,1,2]]]);
//# sourceMappingURL=main.b913c1e0.chunk.js.map